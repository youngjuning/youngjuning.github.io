---
title: æ¯ä¸ªå‰ç«¯éƒ½å€¼å¾—æ‹¥æœ‰è‡ªå·±çš„ç»„ä»¶åº“ï¼Œå°±åƒæ¯ä¸ªå¤å¤©éƒ½æ‹¥æœ‰è¥¿ç“œğŸ‰
date: 2021-07-12 01:01:01
cover: https://cdn.jsdelivr.net/gh/youngjuning/images/202109211319760.png
description: è¿™æ˜¯ä¸€ç¯‡å¹²è´§æ¯”è¾ƒå¤šçš„ç»„ä»¶åº“æ­å»ºå®æˆ˜æ•™ç¨‹ï¼Œä¸ä»…æœ‰é€šç”¨çš„ä»£ç è§„èŒƒã€æäº¤è§„èŒƒã€æ–‡æ¡£ç»´æŠ¤ã€å•å…ƒæµ‹è¯•ã€GitHub Action é…ç½®çš„è®²è§£ï¼Œè¿˜æ¶‰åŠåŸºäº lerna çš„å¤šåŒ…ç®¡ç†æ¶æ„ã€React Native å›¾æ ‡åº“å»ºè®¾ã€React Native ç»„ä»¶åº“å¼€å‘è°ƒè¯•ã€æŒ‰éœ€åŠ è½½åŸç†åŠå®ç°ã€‚
categories: å‰ç«¯
tags:
 - React Native
 - å‰ç«¯æ¶æ„
 - å‰ç«¯ç»„ä»¶åŒ–
 - å‰ç«¯å·¥ç¨‹åŒ–
 - æ˜é‡‘
---

> æœ¬æ–‡ä¸ºæ˜é‡‘ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œæœªè·æˆæƒç¦æ­¢è½¬è½½

ç´«å‡æœ‰ä¸€ä¸ªæœ‹å‹å°é»‘æœ€è¿‘åœ¨é¢è¯•æ—¶è¢«é—®åˆ°å¦‚ä½•è®¾è®¡ä¸€ä¸ªå‰ç«¯ç»„ä»¶åº“ã€‚æ²¡å•¥ç»éªŒçš„å°é»‘å›ç­”äº†ä¸šåŠ¡æå–å°è£…æˆåº“ä»¥åŠåŸºäº antd ç»“åˆä¸šåŠ¡äºŒæ¬¡å°è£…ã€‚æœ€åå°é»‘è¢« HR ä»¥çµåŠ›ä¸å¤ŸæŒ‚æ‰äº†ã€‚å…¶å®è¿™ä¸ªé—®é¢˜è€ƒå¯Ÿçš„å¹¶ä¸æ˜¯å‡å¤§ç©ºçš„æ¦‚å¿µï¼Œè€Œæ˜¯æœ‰å…³å¼€å‘è€…ä»“åº“ç®¡ç†ã€ç»„ä»¶è®¾è®¡ã€å•å…ƒæµ‹è¯•ã€æŒç»­é›†æˆã€åä½œç®¡ç†ç­‰ç­‰èƒ½åŠ›ã€‚é‚£ä¹ˆä¸ºäº†èµ‹èƒ½å°é»‘å®Œç¾å›ç­”è¿™ä¸ªé—®é¢˜å‘¢ï¼Œæˆ‘å†³å®šå¸¦é¢†å°é»‘ä¸€æ­¥ä¸€æ­¥å»ºè®¾ä¸€ä¸ª React Native ç»„ä»¶åº“ã€‚

è¿™æ˜¯ä¸€ç¯‡å¹²è´§æ¯”è¾ƒå¤šçš„ç»„ä»¶åº“æ­å»ºå®æˆ˜æ•™ç¨‹ï¼Œä¸ä»…æœ‰é€šç”¨çš„ä»£ç è§„èŒƒã€æäº¤è§„èŒƒã€æ–‡æ¡£ç»´æŠ¤ã€å•å…ƒæµ‹è¯•ã€GitHub Action é…ç½®çš„è®²è§£ï¼Œè¿˜æ¶‰åŠåŸºäº lerna çš„å¤šåŒ…ç®¡ç†æ¶æ„ã€React Native å›¾æ ‡åº“å»ºè®¾ã€React Native ç»„ä»¶åº“å¼€å‘è°ƒè¯•ã€æŒ‰éœ€åŠ è½½åŸç†åŠå®ç°ã€‚å·¥ç¨‹åŒ–çš„æ€æƒ³æ˜¯é€šç”¨çš„ï¼Œæ‰€ä»¥æ— è®ºæ˜¯ä½ ç”¨çš„æ¡†æ¶æ˜¯ä»€ä¹ˆï¼Œæœ¬æ–‡éƒ½å€¼å¾—ä¸€è¯»ã€‚

> å¦‚æœç”µè„‘å‰çš„æ˜å‹ä¹Ÿå¯¹ç»„ä»¶åº“å¼€å‘æ„Ÿå…´è¶£ï¼Œä¸å¦¨å…ˆç»™ä¸ªç‚¹èµï¼Œå†æŒç»­å…³æ³¨ç´«å‡å’Œå°é»‘çš„ç»„ä»¶åº“å¼€å‘ä¹‹æ—…ã€‚PSï¼šé…åˆ[ä»“åº“](https://github.com/youngjuning/vant-react-native)å’Œ[ç»„ä»¶åº“æ–‡æ¡£](https://vant-react-native.js.org/)é˜…è¯»æœ¬æ–‡æ•ˆæœæ›´ä½³å–²ï¼

## ç«™åœ¨ Vant Design çš„è‚©è†€ä¸Š


ç»´æŠ¤å¼€å‘ä¸€ä¸ªç»„ä»¶åº“æ— ç–‘æ˜¯éœ€è¦æŠ•å…¥å¾ˆå¤šæ—¶é—´å’Œç²¾åŠ›çš„ï¼ŒFlag ç«‹äº†å€’ï¼Œå€’äº†åˆç«‹ã€‚å¯è°“ä¸‡äº‹å¼€å¤´éš¾ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æœ‰è‡ªçŸ¥ä¹‹æ˜ï¼Œåœ¨æ²¡æœ‰è®¾è®¡å¸ˆå’Œä¸šä½™å¼€å‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘é€‰æ‹©äº†ç»™ç°æœ‰ UI Design å®ç° React Native ç‰ˆæœ¬çš„æ–¹å¼å¼€å¯ç»„ä»¶åº“å¼€å‘ä¹‹æ—…ã€‚åœ¨è°ƒç ”äº† [vant](https://github.com/youzan/vant)ã€[fishd-mobile](https://github.com/NSFI/fishd-mobile/) å’Œ [antd-mobile](https://github.com/ant-design/ant-design-mobile) åæˆ‘é€‰æ‹©äº† vantã€‚è¿™æ˜¯å‡ ä¸ªä»“åº“çš„ç°çŠ¶å¯¹æ¯”ï¼š

| ç»„ä»¶åº“       | å›¢é˜Ÿ            | Github Star | Npm å‘¨ä¸‹è½½é‡ | ç»´æŠ¤åº¦                           |
| ------------ | --------------- | ----------- | ------------ | -------------------------------- |
| vant         | æœ‰èµ            | 17.7K       | 27,789       | ç»´é«˜åº¦é«˜ï¼Œæµè¡Œåº¦ä¹Ÿé«˜             |
| antd-mobile  | Ant Design Team | 8.9K        | 31,470       | å‡ ä¹ä¸ç»´æŠ¤ï¼Œæ®è¯´èš‚èšå†…éƒ¨ä¹Ÿä¸ç”¨äº† |
| fishd-mobile | ç½‘æ˜“äº‘å•†å‰ç«¯    | 29          | 22           | çœ‹èµ·æ¥æ˜¯ä¸ª KPI é¡¹ç›®æ— ç–‘äº†        |

ç¡®å®šäº†æ—…ç¨‹çš„æ–¹å‘ï¼Œå°±æ˜¯ç»™æˆ‘ä»¬çš„ç»„ä»¶åº“èµ·ä¸€ä¸ªåˆé€‚çš„åå­—å’Œå£å·ï¼Œç”¨å‰ç«¯å·¥ç¨‹å¸ˆçš„æ–¹å¼è¡¨è¿°å°±æ˜¯ `package.json` çš„ `name` å’Œ `description` å­—æ®µï¼š

```json
// package.json
{
    "name": "vant-react-native",
    "description": "Lightweight React Native UI Components inspired on Vant"
}
```

> ç”±äºæˆ‘ä»¬çš„ç»„ä»¶åº“å®šä½æ˜¯ vant çš„ RN ç‰ˆï¼Œå‚ç…§ lottie-react-nativeã€styled-react-nativeã€jpush-react-native çš„å‘½åæ–¹å¼æˆ‘ä»¬å°†ç»„ä»¶åº“å‘½åä¸º vant-react-nativeï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¸Œæœ›ç»„ä»¶åº“å®Œæˆæ—¶èƒ½è·å¾— vant å®˜æ–¹çš„æ”¯æŒã€‚

## åŸºäº Lerna çš„å¤šåŒ…ç®¡ç†æ¶æ„

Lerna æ˜¯ä¸€ä¸ªç®¡ç†å·¥å…·ï¼Œç”¨äºç®¡ç†åŒ…å«å¤šä¸ªè½¯ä»¶åŒ…ï¼ˆpackageï¼‰çš„ JavaScript é¡¹ç›®ã€‚ç”± Lerna ç®¡ç†çš„ä»“åº“æˆ‘ä»¬ä¸€èˆ¬ç§°ä¹‹ä¸ºå•ä½“ä»“åº“ï¼ˆmonorepoï¼‰ã€‚åŸºäº Lerna çš„å¤šåŒ…ç®¡ç†æ¶æ„çš„ä¼˜ç‚¹åœ¨äºï¼š

- ç»„ä»¶çº§åˆ«è§£è€¦ï¼Œç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æœ‰ç‰ˆæœ¬è®°å½•å¯è¿½æº¯
- ç»„ä»¶å•ç‹¬å‘å¸ƒï¼Œæ”¯æŒç°åº¦ã€ç‰ˆæœ¬å›æ»šä»¥åŠå¹³æ»‘å‡é™çº§
- æŒ‰éœ€å¼•ç”¨ï¼Œç”¨æˆ·å®‰è£…å…·ä½“æŸä¸ªç»„ä»¶åŒ…ï¼Œæ— éœ€é…ç½®å³å¯å®ç°æŒ‰éœ€åŠ è½½çš„æ•ˆæœã€‚
- å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé™ä½å¤§å‹å¤æ‚åº¦ã€ç»„ä»¶ä¹‹é—´ä¾èµ–æ¸…æ™°ä¸”å¯æ§åˆ¶
- å•ä¸€èŒè´£åŸåˆ™ï¼Œé™ä½å¼€æºåŸºå‹çš„å‚ä¸å’Œè´¡çŒ®éš¾åº¦

```sh
.
â””â”€â”€ packages
    â”œâ”€â”€ button # @vant-react-native/button
    â””â”€â”€ icons # @vant-react-native/icon
```

### åˆå§‹åŒ– lerna é¡¹ç›®

```sh
$ mkdir vant-react-native && lerna init --independent
```

### yarn workspaces

ä½¿ç”¨ [yarn workspaces](https://yarnpkg.com/lang/zh-Hans/docs/workspaces/) ç»“åˆ Lerna `useWorkspaces` å¯ä»¥å®ç° [Lerna Hoisting](https://github.com/lerna/lerna/blob/main/doc/hoist.md)ã€‚è¿™å¹¶ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼Œè¿™å¯ä»¥è®©ä½ åœ¨ç»Ÿä¸€çš„åœ°æ–¹ï¼ˆæ ¹ç›®å½•ï¼‰ç®¡ç†ä¾èµ–ï¼Œè¿™å³èŠ‚çœæ—¶é—´åˆèŠ‚çœç©ºé—´ã€‚

é…ç½® `lerna.json`:

```json
{
  ...
  "npmClient": "yarn",
  "useWorkspaces": true
}
```

æ‰˜ç®¡ç»™ yarn wrokspace ä¹‹åï¼Œlerna çš„ `packages` å°†ä¼šè¢«é¡¶çº§ `package.json` çš„ `workspaces` è¦†ç›–:

```json
{
  "private": true,
  ...
  "workspaces": [
    "packages/*"
  ],
}
```

### lerna publish config

å¦‚æœä½ ä¸æƒ³åœ¨æ‰€æœ‰ `package.json` æ–‡ä»¶ä¸­å•ç‹¬æ˜ç¡®è®¾ç½®ä½ çš„æ³¨å†Œè¡¨é…ç½®ï¼Œä¾‹å¦‚ä½¿ç”¨ç§æœ‰æ³¨å†Œè¡¨æ—¶ï¼Œè®¾ç½® `command.publish.registry` å¾ˆæœ‰ç”¨ã€‚é…ç½® `ignoreChanges` åˆ™æ˜¯ä¸ºäº†é¿å…ä¸å¿…è¦çš„ç‰ˆæœ¬å‡çº§ã€‚

```json
"ignoreChanges": [
  "ignored-file",
  "**/__tests__/**",
  "**/*.md"
],
"command": {
  "publish": {
    "registry": "https://registry.npmjs.org"
  }
}
```

> é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä½ çš„åŒ…åæ˜¯å¸¦ scope çš„ï¼Œéœ€è¦åœ¨é‚£ä¸ªåŒ…çš„ `package.json` ä¸­è®¾ç½® `publishConfig.access` ä¸º `"public"`ã€‚

### lerna version config

å½“é…ç½® `conventionalCommits` ä¸º `true` åï¼Œlerna ç‰ˆæœ¬å°†ä½¿ç”¨ [Conventional Commits Specification](https://conventionalcommits.org/) æ¥ç¡®å®šç‰ˆæœ¬å‡çº§å¹¶ [ç”Ÿæˆ CHANGELOG.md æ–‡ä»¶](https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli)ã€‚

```json
"command": {
  "version": {
    "conventionalCommits": true,
    "message": "chore(release): publish"
  }
}
```

## è§„èŒƒåŒ–æäº¤

è§„èŒƒåŒ– `git commit` å¯¹äºæé«˜ `git log` å¯è¯»æ€§ã€å¯æ§çš„ç‰ˆæœ¬æ§åˆ¶å’Œ changelog ç”Ÿæˆéƒ½æœ‰ç€é‡è¦çš„ä½œç”¨ã€‚ç´«å‡ä¹‹å‰åœ¨ [ä¸€æ–‡æå®šè§„èŒƒåŒ–Git Commit](https://juejin.cn/post/6877462747631026190) ä¸­è¯¦ç»†è®²è¿°äº† Conventional Commits çš„æ¦‚å¿µä»¥åŠ commitizenã€cz-customizableã€@commitlint/cliã€yorkie å’Œ commitlint-config-cz ç­‰å·¥å…·çš„é…ç½®ã€‚

ç”±äºé…ç½®ç¹çï¼Œæˆ‘åœ¨ [@youngjuning/cli](https://github.com/youngjuning/cli#%E4%B8%80%E9%94%AE%E9%85%8D%E7%BD%AE-conventional-commit) ä¸­æ·»åŠ äº† `init-commit` å‘½ä»¤ä¸€é”®é…ç½® conventional commitã€‚å¯ä»¥æ‰“å¼€è¿™ä¸ª [commit](https://github.com/youngjuning/vant-react-native/commit/d49f4203eacd37d3908306d309783ed5c11fb565) æŸ¥çœ‹é…ç½®ä¿¡æ¯ã€‚

> æ³¨æ„ï¼šhusky é«˜ç‰ˆæœ¬ç”¨æ³•ä¸å‘åå…¼å®¹ï¼Œæˆ‘åœ¨è¿™ä¸ª [commit](https://github.com/youngjuning/vant-react-native/commit/174c7fd883dd5dc7a0c4f5d8fcb25ed605680b12) ä¸­ç”¨å°¤å¤§çš„ yorkie ä»£æ›¿äº† huskyã€‚

## ä»£ç è§„èŒƒåŒ–

ä»£ç è§„èŒƒåŒ–çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œä»£ç è§„èŒƒåŒ–æ¶‰åŠçš„å·¥å…·æœ‰ editorconfigã€eslintã€prettier ç­‰ï¼Œåœ¨ [è£…å®ƒ|å†ä¹Ÿä¸ç”¨æ“å¿ƒESLinté…ç½®](https://juejin.cn/post/6854573217320075278) ä¸€æ–‡ä¸­æˆ‘ä»‹ç»äº†å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å»ºè®¾å±äºè‡ªå·±çš„ eslint config æ’ä»¶å¹¶äº§å‡ºäº† [@youngjuning/eslint-config](https://github.com/youngjuning/eslint-config) å’Œ [@youngjuning/prettier-config](https://github.com/youngjuning/prettier-config)ã€‚

vant-react-native æš‚æ—¶ä½¿ç”¨ @youngjuning/eslint-configã€@youngjuning/prettier-config çº¦æŸé¡¹ç›®ä»£ç è§„èŒƒã€‚ç›¸å…³é…ç½®å¦‚ä¸‹æ–‡ã€‚

### eslint

é¦–å…ˆå®‰è£… react-native æ‰€éœ€çš„æ’ä»¶ã€‚

```sh
yarn add -D eslint-plugin-react \
  eslint-plugin-react-hooks \
  eslint-plugin-jsx-a11y \
  eslint-plugin-import \
  eslint-plugin-react-native
```

ç„¶åé…ç½® `.eslintrc.js`

```js
// .eslintrc.js
module.exports = {
  extends: ['@youngjuning/eslint-config/react-native']
}
```

### prettier

```js
// .prettierrc.js
module.exports = require('@youngjuning/prettier-config');
```

> @youngjuning/eslint-config è®¡åˆ’ä¹Ÿç”¨ lerna ç®¡ç†ï¼Œäº§å‡º @youngjuning/eslint-config-reactã€@youngjuning/eslint-config-react-nativeã€@youngjuning/eslint-config-vue è®©å¼€å‘è€…æ— éœ€è¿‡å¤šé…ç½®å¼€ç®±å³ç”¨ã€‚

### editorconfig

```
# .editorconfig
# EditorConfig is awesome: http://EditorConfig.org

# top-most EditorConfig file
root = true

# Unix-style newlines with a newline ending every file
[*]
indent_style = space
indent_size = 2
end_of_line = lf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

[*.md]
trim_trailing_whitespace = false

[*.gradle]
indent_size = 4

[BUCK]
indent_size = 4
```

### yorkie & lint-staged

```sh
$ yarn add -D yorkie lint-staged
```

```json
{
  "gitHooks": {
    "commit-msg": "commitlint -e -V",
    "pre-commit": "lint-staged"
  },
  "lint-staged": {
    "**/*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "git add ."
    ]
  },
}
```

## ç¬¬ä¸€ä¸ªç»„ä»¶ä» Icon å¼€å§‹


ä¸€ä¸ªæˆç†Ÿçš„ç»„ä»¶åº“éƒ½ä¼šæ‹¥æœ‰è‡ªå·±çš„ä¸€å¥— Iconï¼ŒIcon ä¸€èˆ¬ç”±è®¾è®¡å¸ˆé€šè¿‡ Sketch è®¾è®¡ï¼Œç„¶åå¯¼å‡º svg æ–‡ä»¶ã€‚

ant-design-icons çš„ svg æ–‡ä»¶æ˜¯ [ä¿å­˜åœ¨æœ¬åœ°](https://github.com/ant-design/ant-design-icons/tree/master/packages/icons-svg/svg/filled)ï¼Œç„¶åé€šè¿‡è„šæœ¬ç”Ÿæˆ [react ç»„ä»¶](https://github.com/ant-design/ant-design-icons/tree/master/packages/icons-react/src/icons)ã€[vue ç»„ä»¶](https://github.com/ant-design/ant-design-icons/tree/master/packages/icons-vue) å’Œ [icons-react-native](https://github.com/ant-design/ant-design-icons/tree/master/packages/icons-react-native) ç­‰ç»„ä»¶ï¼Œç”±äºæ”¯æŒçš„æ¡†æ¶æ¯”è¾ƒå®Œå¤‡æˆ‘ä»¬æ— éœ€è‡ªå·±å®ç°ï¼ŒRN æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ [icons-react-native](https://github.com/ant-design/ant-design-icons/tree/master/packages/icons-react-native)ã€‚

vant ä»¥åŠ fishd-mobile åˆ™æ˜¯é€šè¿‡ Iconfont ç»´æŠ¤ svg æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è®¾ç½® `@font-face` çš„æ–¹å¼å®ç° Icon ç»„ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b3f6212f0124f4fab8b70dfeeb40c25~tplv-k3u1fbpfcp-watermark.image)

æœ‰äº† ttf æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åƒ @ant-design/icons-react-native ä¸€æ ·åŸºäº ttf æ–‡ä»¶ä½¿ç”¨è„šæœ¬ç”Ÿæˆ Icon ç»„ä»¶ï¼Œä½†æ˜¯ä½¿ç”¨ ttf å­—ä½“æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯æ¯æ¬¡æ›´æ–°å›¾æ ‡ï¼Œéƒ½è¦ç›¸åº”çš„æ›´æ–° ttf æ–‡ä»¶ï¼Œç„¶åå†æ¬¡æ‰“åŒ…å‘å¸ƒ APPã€‚è€Œä¸” ttf ä¸æ”¯æŒå¤šç§è‰²å½©çš„å›¾æ ‡ï¼Œå¯¼è‡´æ‰€æœ‰å›¾æ ‡éƒ½æ˜¯å•è‰²ã€‚å¦‚æœä½ æ˜¯å€ŸåŠ© react-native-vector-iconsï¼Œè¯¥åº“å†…ç½®äº† 10 å¤šå¥— ttf æ–‡ä»¶ï¼Œåˆèµ·æ¥æœ‰ 2M å·¦å³ï¼›ä½ å¯èƒ½ç”¨ä¸åˆ°å®ƒä»¬ï¼Œä½†æ˜¯å®ƒä»¬ä»ç„¶ä¼šè¢«æ‰“åŒ…è¿›ä½ çš„ APP é‡Œï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è®¤ä¸º react-native-elements è¿™ä¸ªåº“å¤–å¼ºä¸­å¹²çš„ä¸€å¤§åŸå› ã€‚

é‚£ä¹ˆåªæœ‰ Iconfont é“¾æ¥æˆ‘ä»¬å¦‚ä½•å®ç° vant-icons çš„ React Native ç‰ˆæœ¬å‘¢ï¼Ÿè¿™é‡Œç´«å‡æ²¡æœ‰è‡ªå·±å†™è„šæœ¬ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¸€æ¬¾å« react-native-iconfont-cli çš„å·¥å…·ï¼Œ[fwh1990](https://github.com/fwh1990) å¤§ä½¬é’ˆå¯¹ä»¥ä¸Šç—›ç‚¹ç”¨çº¯ Javascript å®ç° iconfont åˆ° React ç»„ä»¶çš„è½¬æ¢æ“ä½œï¼Œä¸éœ€è¦ä¾èµ– ttf å­—ä½“æ–‡ä»¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¸‹è½½å›¾æ ‡åˆ°æœ¬åœ°ã€‚

### åˆ›å»º lerna å­åŒ…

```sh
# åˆ›å»ºä¸»åŒ…ï¼Œä¸»åŒ…ç”¨æ¥ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰çš„ç»„ä»¶
$ lerna create vant-react-native -y
# åˆ›å»º icons åŒ…ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç»„ä»¶ï¼
$ lerna create @vant-react-native/icons -y
```

æˆ‘ä»¬çš„ç›®å½•ç»“æ„çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

```sh
.
â””â”€â”€ packages
    â”œâ”€â”€ icons
    â”‚Â Â  â”œâ”€â”€ README.md
    â”‚Â Â  â””â”€â”€ package.json
    â””â”€â”€ vant-react-native
        â”œâ”€â”€ README.md
        â””â”€â”€ package.json
```

### ç”Ÿæˆ icons

#### å®‰è£…æ’ä»¶

```sh
yarn workspace @vant-react-native/icons add -D react-native-svg react-native-iconfont-cli
```

#### ç”Ÿæˆé…ç½®æ–‡ä»¶

æˆ‘ä»¬åœ¨ `packages/icons` ç›®å½•ä¸‹ä½¿ç”¨ `npx iconfont-init` å‘½ä»¤ä¼šç”Ÿæˆ `iconfont.json` æ–‡ä»¶ï¼Œè‡ªå®šä¹‰åå†…å®¹å¦‚ä¸‹ï¼š

```json
{
  "symbol_url": "https://at.alicdn.com/t/font_2553510_7cds497uxwn.js",
  "use_typescript": false,
  "save_dir": "./lib",
  "trim_icon_prefix": "van-icon",
  "default_icon_size": 18
}
```

#### ç”Ÿæˆ React Native æ ‡å‡†ç»„ä»¶

æ‰§è¡Œ `npx iconfont-rn` å‘½ä»¤å³å¯ç”Ÿæˆæ ‡å‡† React Native ç»„ä»¶ã€‚ç”±äºå›¾æ ‡æ–‡ä»¶æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬ä¸å°†å›¾æ ‡äº§ç‰©åŠ å…¥ git ç®¡ç†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ npm å‘å¸ƒå‰æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š

```json
{
  "build": "npx iconfont-rn",
  "prepublishOnly": "yarn build"
}
```

### é…ç½® react-native-vant

æˆ‘ä»¬å‰é¢æåˆ° `packages/vant-react-native` æ˜¯ä¸»åŒ…çš„ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦å°† `@vant-react-native/icons` åŒ…æ·»åŠ åˆ°ä¸»åŒ…çš„ä¾èµ–ä¸­å¹¶å¯¼å‡ºã€‚

#### æ·»åŠ ä¾èµ–

```sh
$ lerna add @vant-react-native/icons --scope vant-react-native
```

#### å¯¼å‡º Icon ç»„ä»¶

```js
// packages/vant-react-native/src/index.ts
export { default as Icon } from '@vant-react-native/icons';
export * from '@vant-react-native/icons';
```

#### tsconfig é…ç½®

å¯¹ä¸æ¯ä¸ªå­åŒ…æˆ‘ä»¬æœŸæœ›ä½¿ç”¨ä¸€æ ·çš„é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå…ˆåœ¨æ•´ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º [tsconfig. base.json](https://github.com/youngjuning/vant-react-native/blob/main/tsconfig.base.json)ï¼Œåœ¨å­åŒ…ç»§æ‰¿å³å¯ã€‚

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "outDir": "lib",
  },
  "include": ["src/**/*"]
}
```

#### é…ç½®å‘å¸ƒè„šæœ¬

å’Œ `@vant-react-native/icons` å­åŒ…ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ  `build` å’Œ `prepublishOnly` è„šæœ¬ï¼š

```json
{
  "build": "tsc",
  "prepublishOnly": "yarn build"
}
```

### å‘å¸ƒåŒ…

ç¬¬ä¸€æ¬¡å‘å¸ƒçš„è¯ï¼Œæ³¨æ„ä½¿ç”¨çš„æ˜¯ `lerna publish 0.0.1`ï¼Œå› ä¸º lerna çš„å‘å¸ƒå‘½ä»¤æ²¡æœ‰ç¬¬ä¸€æ¬¡å‘å¸ƒè¿™ä¸ªå‚æ•°ï¼Œæ‰€ä»¥éœ€è¦æ˜¾ç¤ºæŒ‡å®šåˆå§‹ç‰ˆæœ¬ã€‚æˆ–è€…å¯ä»¥å°†åˆå§‹ç‰ˆæœ¬è®¾ç½®ä¸º `0.0.0` ç„¶åæ‰§è¡Œ `lerna publish`ã€‚

> å°æŠ€å·§ï¼šå¦‚æœå‘å¸ƒåæƒ³æŸ¥çœ‹åŒ…å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ [jsdelivr](https://www.jsdelivr.com/) æŸ¥çœ‹ã€‚æ¯”å¦‚åˆšå‘å¸ƒçš„ [vant-react-native](https://cdn.jsdelivr.net/npm/vant-react-native/) å’Œ [@vant-react-native/icons](https://cdn.jsdelivr.net/npm/@vant-react-native/icons/)

## å¼€å‘è°ƒè¯•

ä¸€ä¸ªå®Œå–„ä¸”ä½“éªŒè‰¯å¥½çš„è°ƒè¯•æµç¨‹ä¸ä»…èƒ½å¤Ÿæ»¡è¶³åœ¨å¼€å‘é˜¶æ®µéªŒè¯ç»„ä»¶æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œè¿˜å¯ä»¥é™ä½å¼€æºç¤¾åŒºåŸºå‹çš„å‚ä¸éš¾åº¦ã€‚React Native ç»„ä»¶åº“çš„è°ƒè¯•å’Œå…¶ä»–æŠ€æœ¯æ ˆæµç¨‹å¤§ä½“æ²¡æœ‰åŒºåˆ«ï¼Œåªä¸è¿‡å› ä¸º [Metro ä¸æ”¯æŒè½¯è¿æ¥](https://github.com/facebook/metro/issues/1) ä»¥åŠ vant-react-native æ˜¯åŸºäº lerna çš„å•ä½“ä»“åº“é¡¹ç›®ï¼Œæˆ‘ä»¬çš„é…ç½®ä¼šæœ‰ä¸åŒã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3856a691a73409c8533fa9dd1966357~tplv-k3u1fbpfcp-watermark.image)

### åˆå§‹åŒ– React Native App

ç”±äºæ˜¯ React Native é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–ä¸€ä¸ª React Native é¡¹ç›®ã€‚é¦–å…ˆæ‰¾ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨ `react-native init vantapp --template react-native-template-typescript` åˆ›å»ºä¸€ä¸ªæ–°çš„ React Native Appã€‚ç„¶åå°†ç”Ÿæˆçš„ App ä¸æˆ‘ä»¬çš„ä¸»é¡¹ç›®åˆå¹¶ã€‚åˆå¹¶åçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```sh
.
â”œâ”€â”€ App.tsx
â”œâ”€â”€ __tests__
â”‚   â””â”€â”€ App-test.tsx
â”œâ”€â”€ android
â”‚   â”œâ”€â”€ app
â”‚   â”œâ”€â”€ build.gradle
â”‚   â”œâ”€â”€ gradle
â”‚   â”œâ”€â”€ gradle.properties
â”‚   â”œâ”€â”€ gradlew
â”‚   â”œâ”€â”€ gradlew.bat
â”‚   â””â”€â”€ settings.gradle
â”œâ”€â”€ app.json
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ commitlint.config.js
â”œâ”€â”€ index.js
â”œâ”€â”€ ios
â”‚   â”œâ”€â”€ Podfile
â”‚   â”œâ”€â”€ Podfile.lock
â”‚   â”œâ”€â”€ Pods
â”‚   â”œâ”€â”€ vantapp
â”‚   â”œâ”€â”€ vantapp.xcodeproj
â”‚   â”œâ”€â”€ vantapp.xcworkspace
â”‚   â””â”€â”€ vantappTests
â”œâ”€â”€ lerna.json
â”œâ”€â”€ metro.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ icons
â”‚   â””â”€â”€ vant-react-native
â”œâ”€â”€ tsconfig.base.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ yarn.lock
```

ä¸»è¦å†²çªçš„æ˜¯ Prettierã€eslint ç­‰å·¥å…·çš„é…ç½®ï¼Œåˆå¹¶æ²¡é‚£ä¹ˆéš¾ã€‚åœ¨è¿è¡Œé¡¹ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦ç¼–è¯‘é¡¹ç›®ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ© `lerna run build` å‘½ä»¤æ‰¹é‡è¿è¡Œå­åŒ…é‡Œçš„ `build` npm scriptã€‚

> æ³¨æ„ğŸ“¢ï¼šç”±äºå­åŒ…ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œä¸è¦ä½¿ç”¨ `--parallel` å‚æ•°å¹¶è¡Œæ‰§è¡Œæ‰“åŒ…è„šæœ¬ã€‚

ç°åœ¨æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªä¹å®«æ ¼ Demo éªŒè¯ä¸€ä¸‹ï¼š

```tsx
// App.tsx
import React, { Component } from 'react';
import { View, Text, SafeAreaView, ScrollView } from 'react-native';
import { Icon } from 'vant-react-native';
// æˆ‘ä»¬ä¹Ÿå¯ä»¥åªå®‰è£… @vant-react-native/icons åŒ…
// import { VanIconAdd } from '@vant-react-native/icons'

type IconNameType = React.ComponentProps<typeof Icon>['name'];

export default class App extends Component {
  render() {
    return (
      <SafeAreaView>
        <ScrollView>
          <Text
            style={{ textAlign: 'center', paddingVertical: 20, fontSize: 25, color: '#007fff' }}
          >
            vant-react-native
          </Text>
          <View style={{ flexWrap: 'wrap', flexDirection: 'row' }}>
            {data.map((item, index) => {
              const lastLineLength = data.length % 4 || 4;
              return (
                <View
                  key={item}
                  style={{
                    width: '25%',
                    marginBottom: index < data.length - lastLineLength ? 40 : 0,
                    alignItems: 'center',
                  }}
                >
                  <Icon name={item} size={40} />
                  <Text style={{ color: '#646566', marginTop: 10 }}>{item}</Text>
                </View>
              );
            })}
          </View>
        </ScrollView>
      </SafeAreaView>
    );
  }
}

const data: IconNameType[] = ['location-o', 'like-o', 'star-o', 'phone-o', 'setting-o', 'fire-o', 'coupon-o', 'cart-o', 'shopping-cart-o', 'cart-circle-o', 'friends-o', 'comment-o', 'gem-o', 'gift-o', 'point-gift-o', 'send-gift-o', 'service-o', 'bag-o', 'todo-list-o', 'balance-list-o', 'close', 'clock-o', 'question-o', 'passed'];
```


ç„¶åæ‰§è¡Œ `yarn ios` æŸ¥çœ‹å®é™…æ•ˆæœï¼ˆä¹‹åæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œ `yarn start --reset-cache` å¿«é€Ÿå¼€å§‹è°ƒè¯•ï¼‰ï¼š

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d2828ea83804d3bb53a0563eaf429bd~tplv-k3u1fbpfcp-watermark.image)

ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº† `import { Icon } from 'vant-react-native';` è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„å¼•ç”¨ packages ä¸‹çš„æ¨¡å—ã€‚å¯æ˜¯æˆ‘ä»¬çš„é¡¹ç›®å¹¶æ²¡ä¸å®‰è£…è¿™ä¸ªä¾èµ–ï¼Œç¼–è¯‘å™¨æ˜¯æ€ä¹ˆæ‰¾åˆ°çš„å‘¢ï¼Ÿè¿™é‡Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆé“¶å¼¹ï¼Œè¿™æ˜¯å› ä¸º lerna ä¼šæŠŠå­åŒ…è½¯é“¾æ¥åˆ° node_modules ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `ls -al` å‘ç°çœ‹åˆ°åŒ…çš„å®é™…æŒ‡å‘ï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7857ecd166a74331befe791dc677257b~tplv-k3u1fbpfcp-watermark.image)

æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç±»å‹æç¤ºä¸­çœ‹åˆ°å®é™…æŒ‡å‘çš„æ˜¯ packages ä¸‹çš„æ–‡ä»¶ï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba82260550904406b4224734761c2f5e~tplv-k3u1fbpfcp-watermark.image)

> æ³¨æ„ğŸ“¢ï¼š[Metro ä¸æ”¯æŒç¬¦å·é“¾æ¥](https://github.com/facebook/metro/issues/1) æŒ‡çš„æ˜¯è½¯è¿æ¥çš„ç›®å½•ä¸åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿™é‡Œæˆ‘ä»¬è½¯è¿æ¥æŒ‡å‘çš„ä½ç½®è¿˜åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®å·¥ä½œâœ…ã€‚è¿™ä¸ªç‰¹æ€§ä¿è¯äº†è°ƒè¯•ä¸ç”Ÿäº§å¼€å‘çš„ä¸€è‡´æ€§å’Œä¾¿åˆ©æ€§ã€‚

### å®æ—¶ç¼–è¯‘

ç°åœ¨æˆ‘ä»¬çš„è°ƒè¯•æµç¨‹æ˜¯ï¼š

1. ä¿®æ”¹ä»£ç 
2. æ‰§è¡Œ `lerna run build` ç¼–è¯‘æ¯ä¸ªå­åŒ…
3. æ‰§è¡Œ `yarn ios` è°ƒè¯•é¡¹ç›®
4. ä¿®æ”¹ä»£ç 
5. æ‰§è¡Œ `lerna run build` é‡æ–°ç¼–è¯‘
6. æ‰§è¡Œ `yarn start --reset-cache` è¿è¡Œé¡¹ç›®
7. å¾ªç¯ 4ã€5ã€6ã€‚

å°½ç®¡ React Native æœ‰ Fast Refresh åŠŸèƒ½ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬çš„ä»£ç æ˜¯éœ€è¦ç¼–è¯‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡å¤ç¼–è¯‘è¿è¡Œçš„åŠ¨ä½œã€‚

ä»»ä½•é‡å¤çš„å·¥ä½œéƒ½å¯ä»¥ç”¨è„šæœ¬ä»£æ›¿ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™æ¯ä¸ªå­åŒ…æ·»åŠ å®æ—¶ç¼–è¯‘çš„ scriptï¼Œåƒ rollupã€babelã€webpackã€typescript éƒ½æœ‰å‚æ•°å¯ä»¥å®ç°å®æ—¶ç¼–è¯‘ï¼š

```json
{
  "scripts": {
    "dev": "tsc -w",
    "build": "tsc",
    "prepublishOnly": "yarn build"
  },
}
```
è€Œæˆ‘ä»¬çš„ @vant-react-native/icons åŒ…ä½¿ç”¨çš„ `npx iconfont` æ²¡æœ‰å®æ—¶ç¼–è¯‘é€‰é¡¹ï¼Œç»è¿‡è°ƒç ”ï¼Œæˆ‘å¼•å…¥äº† [onchange](https://www.npmjs.com/package/onchange) è¿™ä¸ªåº“å¯ä»¥åŸºäº glob æ¨¡å¼ç›‘å¬æ–‡ä»¶æ”¹åŠ¨åæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼š

```json
{
  "scripts": {
    "dev": "onchange -i 'iconfont.json' -- yarn build",
  }
}
```

ç„¶åæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `lerna run dev --parallel` æ‰¹é‡æ‰§è¡Œå®æ—¶ç¼–è¯‘è„šæœ¬ï¼Œè¿™é‡ŒåŠ  `--parallel` æ˜¯å› ä¸ºå­åŒ…å¦‚æœæ˜¯å®æ—¶ç¼–è¯‘ï¼Œè¿›ç¨‹ä¼šå¡ä½ã€‚ä¸ºäº†è¡¥æ•‘ï¼Œæˆ‘ä»¬ä¸å¾—ä¸é¢„å…ˆç¼–è¯‘ `@vant-react-native/icons` åŒ…ï¼Œç„¶åå› ä¸ºåŒæ ·çš„åŸå› æˆ‘å¼•å…¥äº† `npm-run-all` æ¥å¹¶è¡Œæ‰§è¡Œ `lerna run dev` å’Œ `react-native start`ï¼Œå®Œæ•´è„šæœ¬å¦‚ä¸‹ï¼š

```json
{
  "predev": "lerna run build --scope @vant-react-native/icons",
  "dev": "lerna run dev --parallel",
  "start": "react-native start",
  "debug": "run-p dev start",
}
```

## æŒ‰éœ€åŠ è½½

> å°é»‘ï¼šâ€œç´«å‡å“¥å“¥ï¼Œæˆ‘ä¹‹å‰ä¸ºäº†ä½¿ç”¨ react-native-elements çš„å…¶ä¸­å‡ ä¸ªç»„ä»¶è€Œå¼•å…¥äº†æ•´ä¸ªç»„ä»¶åº“ã€‚å› ä¸ºè¿™ä¸ªç»„ä»¶åº“ä¾èµ–äº† react-native-vector-icons å¯¼è‡´ bundle åŒ…å˜å¤§ã€‚å¦‚æœæˆ‘å°±æ˜¯æƒ³ç”¨æ•´å¥— vant-react-nativeï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿâ€

ä¼—æ‰€å‘¨çŸ¥ï¼ŒReact Native çš„æ‰“åŒ…å·¥å…· Metro [ä¸æ”¯æŒ tree-shaking](https://github.com/facebook/metro/issues/227#issuecomment-583358386)ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å¼å…¶å®å¾ˆç®€å•ï¼Œæœºæ™ºçš„ä½ å¯èƒ½çŸ¥é“é…åˆ [babel-plugin-import](https://www.npmjs.com/package/babel-plugin-import) æ˜¯å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½çš„éœ€æ±‚çš„ã€‚ä½†ç”±äºæˆ‘ä»¬æ˜¯å¤šåŒ…ç®¡ç†æ¶æ„ï¼Œéœ€è¦é’ˆå¯¹å¤šåŒ…çš„æ¶æ„è®¾è®¡ä¸€ä¸ªæ–¹æ¡ˆã€‚

### react-naitve bundle åŒ…

ä¸ºäº†æ¯”å¯¹ä¼˜åŒ–å‰ååŒ…å¤§å°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `react-native bundle` å‘½ä»¤çœ‹ä¸€ä¸‹çº¯ JS åŒ…çš„å¤§å°ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹ä¸‹è¿™ä¸ªå‘½ä»¤ï¼š

```sh
react-native bundle --platform ios --entry-file index.js --bundle-output ./bundle/ios/index.ios.jsbundle --assets-dest ./bundle/ios --dev false --reset-cache
```

- `--entry`ï¼šå…¥å£ js æ–‡ä»¶
- `--bundle-output`ï¼šç”Ÿæˆçš„ bundle æ–‡ä»¶è·¯å¾„
- `--platform`ï¼šå¹³å°
- `--assets-dest`ï¼šå›¾ç‰‡èµ„æºçš„è¾“å‡ºç›®å½•
- `--dev`ï¼šæ˜¯å¦ä¸ºå¼€å‘ç‰ˆæœ¬ï¼Œæ‰“æ­£å¼ç‰ˆçš„å®‰è£…åŒ…æ—¶æˆ‘ä»¬å°†å…¶èµ‹å€¼ä¸º false
- `--reset-cache`ï¼šé‡ç½®ç¼“å­˜ï¼Œé¿å…æ‰“åŒ…ä½¿ç”¨æ—§çš„ç¼“å­˜

### æŒ‰éœ€åŠ è½½åŸç†

å‰é¢æˆ‘ä»¬æåˆ° `packages/vant-react-native` åªæœ‰ä¸€ä¸ªæ–‡ä»¶ `src/index.ts` ç”¨æ¥å¯¼å‡ºæ‰€æœ‰å­åŒ…ï¼Œç°åœ¨æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„åŒ… Buttonï¼Œçœ‹ä¸Šå»å°±æ˜¯è¿™æ ·ï¼š

```ts
export { default as Icon } from '@vant-react-native/icons';
export * from '@vant-react-native/icons';
export { default as Button } from '@vant-react-native/icons';
```

è¿™ç§å¯¼å‡ºæ–¹å¼ï¼Œç”¨æˆ·åªèƒ½é€šè¿‡ `import Button from '@vant-react-native/button';` æˆ– `import Button from 'vant-react-native/lib/button';` çš„æ–¹å¼æ‰‹åŠ¨å®ç°æŒ‰éœ€åŠ è½½ï¼Œè¿™ä¸ä»…ä¸æ–¹ä¾¿å¼€å‘è€…ä½¿ç”¨ï¼Œä»æ‰“åŒ…äº§ç‰©æ¥è¯´ä¹Ÿå¢åŠ äº†å¾ˆå¤šå­—èŠ‚ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆæ ·çš„ç»„ç»‡å½¢å¼æ‰èƒ½æ»¡è¶³æŒ‰éœ€åŠ è½½å‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨ babel-plugin-import æ’ä»¶çš„æ–‡æ¡£ä¸­ï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d8bd23d28b0413b8b3da8119d32dd35~tplv-k3u1fbpfcp-watermark.image)

ä»å›¾ä¸­æˆ‘ä»¬çœ‹å‡º babel-plugin-import æ’ä»¶æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå°†å¼•ç”¨æŒ‡å‘äº†æ¨¡å—æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚ç”¨æˆ·ä½¿ç”¨æ—¶å®‰è£…æ’ä»¶å¹¶åšå¦‚ä¸‹é…ç½®å°±å®Œæˆäº†æŒ‰éœ€åŠ è½½ã€‚

```json
"plugins": [
  ["import", { libraryName: "antd", style: true }]
]
```

ä¾ç„¶æ²¡æœ‰é“¶å¼¹ï¼Œæ’ä»¶åšçš„å·¥ä½œåªæ˜¯ä»£æ›¿äº†ä½ çš„å³æ‰‹ã€‚çŸ¥é“äº†åŸç†æˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§æ–‡æ¡£è¦æ±‚çš„æ ¼å¼é‡æ–°ç»„ç»‡æˆ‘ä»¬çš„ vant-react-native åŒ…ï¼š

```sh
.
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ lib                    # ä¸Šä¼ åˆ° NPM çš„ç¼–è¯‘äº§ç‰©
â”‚   â”œâ”€â”€ button             # ç¬¦åˆ babel-plugin-import çš„é»˜è®¤é…ç½®è¦æ±‚
â”‚   â”‚   â”œâ”€â”€ index.d.ts
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ icon
â”‚   â”‚   â”œâ”€â”€ index.d.ts
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ index.d.ts
â”‚   â””â”€â”€ index.js          # export * from './button';
â”œâ”€â”€ package.json
â”œâ”€â”€ src                   # æºç ç›®å½•
â”‚   â”œâ”€â”€ button
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ icon
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ tsconfig.json         # ç¼–è¯‘é…ç½®ï¼Œå°† ts æ–‡ä»¶ç¼–è¯‘åˆ° lib æ–‡ä»¶å¤¹ä¸‹
```

**vant-react-native/src/button/index.tsï¼š**

```ts
import Button from '@vant-react-native/button';
export default Button;
export { Button };
```

**vant-react-native/src/icon/index.tsï¼š**

```ts
import Icon from '@vant-react-native/icons';

export default Icon;
export { Icon };
export * from '@vant-react-native/icons';
```

**vant-react-native/src/index.tsï¼š**

```ts
export * from './icon';
export * from './button';
```

ç„¶åé¡¹ç›®ä¸­ä¿®æ”¹ babel.config.jsï¼š

```ts
module.exports = {
  presets: ['module:metro-react-native-babel-preset'],
  plugins: [
    ["import", {libraryName: 'vant-react-native'}]
  ],
};
```

### ç¼–å†™ Babel æ’ä»¶ï¼Ÿ

è™½ç„¶é€šè¿‡ä¿®æ”¹ä¸»åŒ…çš„å¯¼å‡ºæ–¹å¼å¯ä»¥å®Œæˆéœ€æ±‚ï¼Œä½†æ˜¯å´æå¤§åœ°å¢åŠ äº†é¡¹ç›®æœ¬èº«çš„å¤æ‚åº¦ã€‚å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“ babel-plugin-import çš„åŸç†æ˜¯è½¬æ¢å¼•ç”¨è·¯å¾„ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡æ’ä»¶åŠ¨æ€æŠŠ `import {Button} from 'vant-react-native'` è½¬æˆ `import Button from '@vant-react-native/button'` å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä¸‹é¢æ˜¯æˆ‘åŸºäº babel-plugin-import çš„ `customName` é…ç½®ç¼–å†™äº†ä¸€å¥—é…ç½®å¹¶å°è£…åœ¨ babel-plugin-import-vant åŒ…ä¸­ï¼š

```ts
import camelCase from 'camelcase';

export default (): any[] => [
  [
    'import',
    {
      libraryName: 'vant-react-native',
      customName: (name: string) => {
        if (name === 'icon') {
          return '@vant-react-native/icons';
        }
        if (name.match(/^van-icon-/)) {
          return `@vant-react-native/icons/lib/${camelCase(name, { pascalCase: true })}`;
        }
        return `@vant-react-native/${name}`;
      },
    },
    'vant-react-native',
  ],
  [
    'import',
    {
      libraryName: '@vant-react-native/icons',
      customName: (name: string) => {
        return `@vant-react-native/icons/lib/${camelCase(name, { pascalCase: true })}`;
      },
    },
    '@vant-react-native/icons',
  ],
];
```

åœ¨é¡¹ç›®çš„ `babel.config.js` é…ç½®ä¸­æ·»åŠ  `plugins: [...require('babel-plugin-import-vant').default()]` å³å¯å®ç°æŒ‰éœ€åŠ è½½ã€‚

è¿˜æœ‰å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹å—ï¼Ÿæœºæ™ºçš„ä½ å¯èƒ½åˆå‘ç°æˆ‘åªæ˜¯é€šè¿‡å‡½æ•°å¯¼å‡ºäº†ä¸€ä¸ªé…ç½®è€Œå·²ï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„æ’ä»¶ï¼Œæ‰€ä»¥æœªæ¥æˆ‘ä¼šå®šåˆ¶ä¸€ä¸ª vant-react-native è‡ªå·±çš„æŒ‰éœ€åŠ è½½ babel æ’ä»¶ã€‚

> `name.match(/^van-icon-/)` è¿™ä¸ªåˆ¤æ–­æ¡ä»¶æ˜¯å› ä¸º `@vant-react-native/icons` åŒ…é™¤äº†åŒ…å«ä¸€ä¸ªé»˜è®¤å¯¼å‡ºçš„ Icon ç»„ä»¶ï¼Œè¿˜å¯¼å‡ºäº†å¾ˆå¤šå•ä¸ªå›¾æ ‡ç»„ä»¶ï¼Œä¸ºäº†è¿›ä¸€æ­¥å‡å°æ‰“åŒ…ä½“ç§¯ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå­åŒ…ä¹Ÿè¿›è¡Œäº†æŒ‰éœ€åŠ è½½å¤„ç†ã€‚
>
> **æˆ‘ä»¬å·²ç»çŸ¥é“æŒ‰éœ€åŠ è½½çš„åŸç†æ˜¯æ²¡æœ‰ä¸­é—´å•†èµšå·®ä»·ç›´æ¥å’Œå–å®¶è°ˆ**ï¼Œæ‰€ä»¥åé¢æˆ‘ä»¬é‡è§ç±»ä¼¼çš„éœ€æ±‚é€šè¿‡è½¬æ¢è¿”å›å–å®¶åœ°å€å³å¯ã€‚ä¸éœ€è¦ç ´åæ€§åœ°æ”¹é¡¹ç›®ç»“æ„ã€‚


### æˆæœå±•ç¤º

| åˆå§‹åŒ…å¤§å° | æœªé…ç½®æŒ‰éœ€åŠ è½½ï¼ˆå¼•å…¥ Buttonï¼‰ | æŒ‰éœ€åŠ è½½ï¼ˆå¼•å…¥ Buttonï¼‰ | æŒ‰éœ€åŠ è½½ï¼ˆå¼•å…¥ Iconï¼‰ | æŒ‰éœ€åŠ è½½ï¼ˆå¼•å…¥ VanIconAddï¼‰ |
| ---------- | -------------- | ----------------------- | --------------------- | --------------------------- |
| 723KB      | 1.8M           | 725KB                   | 1.8M                  | 1.22M                        |

ä¹‹æ‰€ä»¥ Icon åŒ…ä¼šå¤§ï¼Œæ˜¯å› ä¸º react-native-svg è¿™ä¸ªåº“å¤§ï¼Œæ‰€ä»¥ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ Icon ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ VanIconAddã€VanIconEye è¿™ç§å•ç‹¬çš„å›¾æ ‡ç»„ä»¶ï¼Œå°‘äº† 593KB è¿˜æ˜¯æŒºé¦™çš„ã€‚

## ç»„ä»¶åº“æ–‡æ¡£

ç»„ä»¶åº“æ–‡æ¡£æ¯”è¾ƒé‡è¦çš„æ˜¯æœ‰å¯ä»¥äº¤äº’çš„ Demo æ¼”ç¤ºï¼Œæˆ‘æ˜¯ Dumi çš„èµ„æ·±ç”¨æˆ·ï¼Œå€ŸåŠ© dumi-theme-mobile å’Œ [umi-plugin-react-native](https://github.com/youngjuning/umi-plugin-react-native) æˆ‘ä»¬å¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³ React Native ç»„ä»¶åº“æ–‡æ¡£çš„æ­å»ºã€‚

### é›†æˆ Dumi åˆ°é¡¹ç›®ä¸­

**å®‰è£…ä¾èµ–ï¼š**

```sh
$ yarn add dumi dumi-theme-mobile umi-plugin-react-native -D
```

**é…ç½®æ–‡ä»¶ï¼š**

åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  `.umirc.ts`

```ts
import { defineConfig, IConfig } from 'dumi';

export default defineConfig({
  title: 'vant-react-native',
  mode: 'site',
  logo: 'https://img01.yzcdn.cn/vant/logo.png',
  favicon: 'https://img01.yzcdn.cn/vant/logo.png',
  resolve: {
    includes: ['docs', 'packages/button', 'packages/icons'],
  },
  // more config: https://d.umijs.org/config
} as IConfig);
```

å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒDumi æ˜¯æ”¯æŒ Lerna ä»“åº“çš„ï¼Œå®ƒé»˜è®¤ä¼šä»¥ `packages/[åŒ…å]/src` ä¸ºåŸºç¡€è·¯å¾„æœå¯»æ‰€æœ‰å­åŒ…çš„ Markdown æ–‡æ¡£å¹¶ç”Ÿæˆè·¯ç”±ã€‚é€šè¿‡ `resolve.includes` å¯ä»¥é…ç½® dumi å—…æ¢çš„æ–‡æ¡£ç›®å½•ï¼Œdumi ä¼šå°è¯•åœ¨é…ç½®çš„ç›®å½•ä¸­é€’å½’å¯»æ‰¾ markdown æ–‡ä»¶ã€‚

**æ·»åŠ  NPM è„šæœ¬ï¼š**

> æ³¨æ„ğŸ“¢ï¼šç”±äºå®é™…ä¾èµ–çš„æ˜¯ packages ä¸‹çš„åŒ…ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆç¼–è¯‘æ‰€æœ‰çš„åŒ…ï¼Œå¦åˆ™éƒ¨ç½²çš„æ—¶å€™ä¼šæŠ¥ `This dependency was not found:` çš„é”™è¯¯ã€‚

```json
{
  "scripts": {
    "start:dumi": "dumi dev",
    "build:dumi": "lerna run build && dumi build"
  }
}
```

**å¿½ç•¥æ–‡ä»¶ï¼ˆ.gitignoreï¼‰ï¼š**

```
# umi
.umi
.umi-production
.env.local
dist/
```

### éƒ¨ç½²åˆ° GitHub Pages

åœ¨æ ¹ç›®å½•æ–°å»º `.github/workflows/gh-pages`ï¼š

```yml
name: github pages
on:
  push:
    branches:
      - main # default branch
jobs:
  deploy:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v2
      - run: yarn install
      - run: yarn build:dumi
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist
```

### é¢„è§ˆ

ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—® https://youngjuning.js.org/vant-react-native/ æŸ¥çœ‹æ•ˆæœäº†ï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9faf0889b6d64238922bb02c51cf02ff~tplv-k3u1fbpfcp-watermark.image)


![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a11e9ce535c54f8bb038599533f0ef9a~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bed86245d8f485894b0c5e3d9767e9c~tplv-k3u1fbpfcp-watermark.image)

### é…ç½®ä¼˜åŒ–

ç°åœ¨åŸºäº dumi çš„æ–‡æ¡£ç«™ç‚¹åªæ˜¯åˆå§‹åŒ–ï¼Œå¾ˆå¤šé…ç½®ï¼ˆ.umirc.tsï¼‰å¯ä»¥ä¼˜åŒ–ï¼Œæ¯”å¦‚ï¼š

1. åŸºäº jsdelivr é…ç½® CDN åŠ é€Ÿ

```ts
const isProd = process.env.NODE_ENV === 'production';
...
publicPath: isProd ? 'https://cdn.jsdelivr.net/gh/youngjuning/vant-react-native@gh-pages/': '/',
```
2. å¢é‡å‘å¸ƒå’Œé¿å…æµè§ˆå™¨åŠ è½½ç¼“å­˜

```ts
{
  hash: true
}
```

3. [å‹ç›Ÿç½‘ç«™ç»Ÿè®¡](https://www.umeng.com/web)

```ts
{
  scripts: ['https://s9.cnzz.com/z_stat.php?id=1280093214&web_id=1280093214'],
  styles: ['a[title=ç«™é•¿ç»Ÿè®¡] { display: none; }'],
}
```

4. é…ç½® `exportStatic: {}` å°†æ‰€æœ‰è·¯ç”±è¾“å‡ºä¸º HTML ç›®å½•ç»“æ„ï¼Œä»¥å…åˆ·æ–°é¡µé¢æ—¶ 404ã€‚

### Pull Request é¢„å‘é¢„è§ˆ

è€ƒè™‘åˆ°åæœŸç¤¾åŒºä¼šè´¡çŒ®ä»£ç å’Œæ–‡æ¡£ã€‚åœ¨ pr åˆè¿›ä¸»åˆ†æ”¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é¢„è§ˆæ–‡æ¡£æˆ–ç»„ä»¶ã€‚æ»¡è¶³è¿™ä¸€éœ€æ±‚çš„æ˜¯ä¸€ä¸ªå« surge.sh çš„é™æ€æ‰˜ç®¡æœåŠ¡ï¼Œsurge æ”¯æŒåœ¨å‘½ä»¤è¡Œé€šè¿‡ç®€å•çš„å‘½ä»¤å…è´¹å‘å¸ƒ HTMLã€CSS å’Œ JS æ–‡ä»¶åˆ° webã€‚

#### ç”³è¯· Surge Token

**å®‰è£… surge cliï¼š**

```sh
npm install --global surge
```

**æ³¨å†Œ surge è´¦å·ï¼š**

```sh
suerge login
```

**è·å– tokenï¼š**

```sh
suerge token
```

#### é…ç½® CI

ç”±äº GitHub çš„å®‰å…¨é—®é¢˜ï¼Œsurge-preview Action æ’ä»¶æ— æ³•ä½¿ç”¨ï¼Œæˆ‘ä»¬å‚è€ƒ dumi å®˜æ–¹çš„é…ç½®è‡ªå®šä¹‰äº† CIï¼Œé¦–å…ˆæˆ‘ä»¬æ‹·è´ä¸‹å›¾ä¸­çš„ä¸‰ä¸ªæ–‡ä»¶åˆ°é¡¹ç›®ä¸­ã€‚

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e3d3e61ac1c4019ac393b2d1b2c5719~tplv-k3u1fbpfcp-watermark.image)

ç„¶åä¿®æ”¹ `preview-build.yml` ä¸­çš„ `build step`ï¼š

```diff
- NODE_OPTIONS='--max-old-space-size=4096' yarn build
+ NODE_OPTIONS='--max-old-space-size=4096' PREVIEW_PR=true yarn build:dumi
```

æ·»åŠ ç¯å¢ƒå˜é‡ `PREVIEW_PR=true` æ˜¯ä¸ºäº†è®© dumi æ‰“åŒ…æ—¶è¯†åˆ«å‡ºä¸æ˜¯ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ï¼Œ`.umirc.ts` éœ€è¦ç›¸åº”ä¿®æ”¹ä¸ºï¼š

```ts
const isProd =
  process.env.NODE_ENV === 'production' && process.env.PREVIEW_PR !== "true";
...
publicPath: isProd ? 'https://cdn.jsdelivr.net/gh/youngjuning/vant-react-native@gh-pages/': '/',
...
```

å†ç„¶åï¼Œä¿®æ”¹ `preview-deploy.yml` æ–‡ä»¶ä¸­çš„éƒ¨ç½²åŸŸå `dumi-preview` ä¸º `vant-react-native-preview`ã€‚

æœ€åæˆ‘ä»¬æŠŠå‰é¢è·å–çš„ Surge Token æ·»åŠ åˆ°ä»“åº“çš„ Secrets å³å¯ã€‚

#### æˆæœå±•ç¤º

**æ­£åœ¨éƒ¨ç½² PR é¢„è§ˆçŠ¶æ€ï¼š**

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/193ac9e16cca408383ca7ae2ec503613~tplv-k3u1fbpfcp-watermark.image)

**éƒ¨ç½²æˆåŠŸçŠ¶æ€ï¼š**

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1659de97aafd4f87a93993c35ef93195~tplv-k3u1fbpfcp-watermark.image)

è®¿é—® https://vant-react-native-preview-pr-1.surge.sh/ å³å¯éªŒè¯æ–‡æ¡£çš„æ­£ç¡®æ€§âœ…ã€‚

## å•å…ƒæµ‹è¯•


æˆ‘åœ¨ [ä½¿ç”¨ Jest å’Œ Enzyme è¿›è¡Œ React Native å•å…ƒæµ‹è¯•|æŠ€æœ¯ç‚¹è¯„](https://juejin.cn/post/6937983077209604127) ä¸€æ–‡ä¸­æ›¾æäº¤å•å…ƒæµ‹è¯•å’Œæ–‡æ¡£ä¸€æ ·ï¼Œæ˜¯ä¿éšœç¨‹åºæœ€å°å•å…ƒè´¨é‡çš„é‡è¦ä¸€ç¯ã€‚è¯šç„¶ä¸€ä¸ªæˆç†Ÿçš„ç»„ä»¶åº“æ˜¯å¿…ç„¶æœ‰å•å…ƒæµ‹è¯•çš„èº«å½±ã€‚æœ¬ç« å°±ä¸å±•å¼€è®²å•å…ƒæµ‹è¯•äº†ï¼Œä¸»è¦è®² vant-react-native æ˜¯å¦‚ä½•é…ç½®å•å…ƒæµ‹è¯•çš„ã€‚

### å®‰è£…ä¾èµ–

jestã€babel-jestã€@types/jest è¿™äº›ä¾èµ–éƒ½å·²ç»å®‰è£…äº†ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…çš„æ˜¯ enzyme è¿™ä¸ªåŸºäº jest çš„å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚

```sh
$ yarn add enzyme jest-enzyme enzyme-adapter-react-16 enzyme-to-json @types/enzyme react-native-mock-render -DW
```

> Enzyme æ˜¯ç”¨äº React çš„ JavaScript æµ‹è¯•å®ç”¨ç¨‹åºï¼Œå¯ä»¥æ›´è½»æ¾åœ°æµ‹è¯• React ç»„ä»¶çš„è¾“å‡ºã€‚æ‚¨è¿˜å¯ä»¥æ ¹æ®ç»™å®šçš„è¾“å‡ºè¿›è¡Œæ“ä½œï¼Œéå†å¹¶ä»¥æŸç§æ–¹å¼æ¨¡æ‹Ÿè¿è¡Œæ—¶ã€‚

### é…ç½®

**jest.config.jsï¼š**

```js
module.exports = {
  preset: 'react-native',
  verbose: true,
  collectCoverage: true, // ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
  moduleNameMapper: {
    // for https://github.com/facebook/jest/issues/919
    '^image![a-zA-Z0-9$_-]+$': 'GlobalImageStub',
    '^[@./a-zA-Z0-9$_-]+\\.(png|gif)$': 'RelativeImageStub',
  },
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'], // ä½¿ç”¨ Jest è¿è¡Œå®‰è£…æ–‡ä»¶ä»¥é…ç½® Enzyme å’Œé€‚é…å™¨ï¼ˆå¦‚ä¸‹æ–‡jest.setup.jsä¸­æ‰€ç¤ºï¼‰ï¼Œä¹‹å‰æ˜¯setupTestFrameworkScriptFileï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨setupFiles
  snapshotSerializers: ['enzyme-to-json/serializer'], // æ¨èä½¿ç”¨åºåˆ—åŒ–ç¨‹åºä½¿ç”¨ enzyme-to-jsonï¼Œå®ƒçš„å®‰è£…å’Œä½¿ç”¨éå¸¸ç®€å•ï¼Œå¹¶å…è®¸æ‚¨ç¼–å†™ç®€æ´çš„å¿«ç…§æµ‹è¯•ã€‚
};
```

**jest.setup.jsï¼š**

```js
import 'react-native';
import Enzyme from 'enzyme';
import Adapter from 'enzyme-adapter-react-16';

Enzyme.configure({ adapter: new Adapter() });
```

**ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š**

```js
// packages/button/__test__/index.tsx
import React from 'react';
import { shallow } from 'enzyme';
import Button from '../src/index';

function setup(props = {}) {
  const wrapper = shallow(<Button />);
  const instance = wrapper.instance();
  return { wrapper, instance };
}

describe('Button Component', () => {
  it('renders correctly', () => {
    const { wrapper } = setup();
    expect(wrapper).toMatchSnapshot();
  });
});
```

æ‰§è¡Œ `jest` å‘½ä»¤åå¯ä»¥æŸ¥çœ‹è¦†ç›–ç‡å¦‚ä¸‹ï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/358737fa32f549f4a9b06a9bcf8903d4~tplv-k3u1fbpfcp-watermark.image)

## å†™ç»™å‹‡å£«

èƒ½å†™é•¿æ–‡çš„ä¸ç®—å‹‡å£«ï¼Œèƒ½åšæŒçœ‹åˆ°è¿™é‡Œçš„æ‰æ˜¯å‹‡å£«ã€‚ç´«å‡åœ¨æ­¤æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚ç„¶è€Œç»„ä»¶åº“å·¥ç¨‹åŒ–è¿™åªæ˜¯ä¸€ä¸ªèµ·ç‚¹ï¼Œå¦‚æœæœ¬æ–‡åå“å¥½ï¼Œç»„ä»¶åº“å…·ä½“ç»„ä»¶çš„è®¾è®¡å®ç°ã€å®Œæ•´çš„ React Native å•å…ƒæµ‹è¯•æ•™ç¨‹ç­‰ç­‰ç´«å‡ä¼šåœ¨åç»­çš„æ–‡ç« ä¸­å±•å¼€è®²ã€‚

## æ¨èçš„ UI åº“

å½“ç„¶äº†ï¼Œvant-react-native å¹¶ä¸æ˜¯ä½ å”¯ä¸€çš„é€‰æ‹©ï¼Œä¸‹é¢çš„å‡ ä¸ª UI åº“éƒ½æ˜¯å¾ˆä¼˜ç§€çš„é¡¹ç›®ã€‚åœ¨å®ç° vant-react-native æ—¶æˆ‘ä¹Ÿå¤šå°‘å€Ÿé‰´äº†å‰äººä¼˜ç§€çš„è®¾è®¡ã€‚

- [antd-mobile-rn](https://github.com/ant-design/ant-design-mobile-rn)
- [react-native-elements](https://github.com/react-native-elements/react-native-elements)
- [react-native-ui-kitten](https://github.com/akveo/react-native-ui-kitten)
- [react-native-ui-lib](https://github.com/wix/react-native-ui-lib)
- [Zarm](https://zarm.design/)
