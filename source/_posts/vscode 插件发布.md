---
title: vscode æ’ä»¶å‘å¸ƒ
date: 2021-08-12 20:46:38
cover: https://cdn.jsdelivr.net/gh/youngjuning/images/20210812204938.jpeg
categories:
  - å‰ç«¯
tags:
  - vscode
---

> å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯[æ´›ç«¹](https://github.com/youngjuning)ğŸ‹ï¼Œä¸€åªä½åœ¨æ­åŸçš„æœ¨ç³»å‰ç«¯ ğŸ§šğŸ»â€â™€ï¸ï¼Œå¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç«  ğŸ“šï¼Œå¯ä»¥é€šè¿‡ç‚¹èµå¸®æˆ‘èšé›†çµåŠ› â­ï¸ã€‚

## å®‰è£…å‘å¸ƒå·¥å…·

[vsce](https://github.com/Microsoft/vsce) æ˜¯ä¸€ä¸ªç”¨äºå°†æ’ä»¶å‘å¸ƒåˆ°[å¸‚åœº](https://code.visualstudio.com/docs/editor/extension-gallery)ä¸Šçš„å‘½ä»¤è¡Œå·¥å…·ã€‚

```sh
$ npm install vsce -g
```

## æ–°å»º Azure DevPos ç»„ç»‡

1. ç™»å½• [Azure DevOps](https://azure.microsoft.com/zh-cn/services/devops/)ã€‚
2. ç‚¹å‡» **New organization**ã€‚

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812201149.png)

3. ç¡®è®¤ä¿¡æ¯ï¼Œç„¶åé€‰æ‹© **Continue**ã€‚

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812201210.png)

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812201223.png)

åˆ°è¿™é‡Œï¼Œä¸€ä¸ªç»„ç»‡å°±åˆ›å»ºæˆåŠŸäº†ï¼Œä¹‹åéšæ—¶ç™»å½•åˆ°ä½ çš„ç»„ç»‡<https://dev.azure.com/tuyaworks>ã€‚

## è·å– Personal Access Token

ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å‡è®¾ç»„ç»‡åä¸º vscodeï¼Œä»ä½ çš„ç»„ç»‡ä¸»é¡µï¼ˆä¾‹å¦‚ï¼šhttps://dev.azure.com/tuyaworks ï¼‰ è¿›å…¥ Personal access tokens é¡µé¢ï¼š

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812201259.png)

ç‚¹å‡» **New Token** åˆ›å»ºä¸€ä¸ªæ–°çš„ Personal Access Tokenï¼š

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812202141.png)

ç»™ Personal Access Token æ·»åŠ æè¿°ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼Œä½ æœ€å¥½æŠŠè¿‡æœŸæ—¶é—´è®¾ç½®ä¸º 1 å¹´ï¼Œè¿™æ ·ä½ æ¥ä¸‹å°±èƒ½æ–¹ä¾¿å¾ˆå¤šï¼Œé€‰æ‹© **custom definedï¼ˆç”¨æˆ·è‡ªå®šä¹‰ï¼‰** èŒƒå›´ï¼Œç„¶åç‚¹å‡» **Show all scopes(æ˜¾ç¤ºå…¨éƒ¨)** ï¼Œåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­æ‰¾åˆ° Marketplaceï¼Œå¹¶å‹¾é€‰ Acquire å’Œ Manageï¼š

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812202337.png)

ç‚¹å‡» **Create**ï¼Œä½ å°±ä¼šçœ‹åˆ°æ–°åˆ›å»ºçš„ Personal Access Token äº†ï¼Œå¤åˆ¶å¥½ï¼Œä½ æ¥ä¸‹æ¥å°±ä¼šç”¨åˆ°è¿™ä¸ª token æ¥åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹äº†ã€‚

![](https://cdn.jsdelivr.net/gh/youngjuning/images/20210812202402.png)

## åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹

**å‘è¡Œæ–¹**æ˜¯ VS Code å¸‚åœºæœ‰æƒå‘å¸ƒæ’ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œæ¯ä¸ªæ’ä»¶çš„ package.json æ–‡ä»¶éƒ½åŒ…å«ç€ publisher å­—æ®µã€‚
ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº† Personal Access Tokenï¼Œæˆ‘ä»¬é©¬ä¸Šå¯ä»¥é€šè¿‡ https://aka.ms/vscode-create-publisher åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹ã€‚

## å‘è¡Œæ–¹ç™»å½•

å¦‚æœä½ å·²ç»æœ‰å‘è¡Œæ–¹è´¦å·äº†ï¼š

```sh
$ vsce login (publisher name)
```

`vsce` ä¼šè®°ä½è¿™ä¸ª Personal Access Tokenï¼Œæ—¥åä½ éœ€è¦å†æ¬¡ä½¿ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨å¸¦ä¸Šã€‚

ä½ ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤å‚æ•° `-p <token>` ç›´æ¥ç™»å½•ç„¶åç«‹å³å‘å¸ƒæ’ä»¶ï¼š

```sh
$ vsce publish -p <token>
```

## å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬

ç”¨ SemVer è¯­ä¹‰æ ‡è¯†ç¬¦ï¼šmajorï¼Œminorï¼Œpatch å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬å·ã€‚

ä¾‹å¦‚ï¼Œä½ æƒ³æŠŠæ’ä»¶ä» 1.0.0 æ›´æ–°åˆ° 1.1.0ï¼Œé‚£ä¹ˆåŠ ä¸Š minorï¼š

```sh
$ vsce publish minor
```

æ’ä»¶ _package.json_ çš„ version ä¼šå…ˆæ›´æ–°ï¼Œç„¶åæ‰å‘å¸ƒæ’ä»¶ã€‚

ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šç‰ˆæœ¬å·ï¼š

```sh
$ vsce publish 2.0.1
```

## ä¸‹æ¶æ’ä»¶

é€šè¿‡æŒ‡å®šæ’ä»¶ idpublisher.extension ä¸‹æ¶æ’ä»¶ï¼š

```sh
$ vsce unpublish (publisher name).(extension name)
```

> å½“ä½ ä¸‹æ¶æ’ä»¶çš„æ—¶å€™ï¼Œå¸‚åœºä¼šç§»é™¤æ‰€æœ‰æ’ä»¶çš„å†å²ç»Ÿè®¡æ•°æ®ï¼Œè¯·åœ¨ä¸‹æ¶å‰å†ä¸‰è€ƒè™‘ï¼Œæœ€å¥½è¿˜æ˜¯æ›´æ–°æ’ä»¶å§ã€‚

## æ’ä»¶æ‰“åŒ…

ä½ ä¹Ÿå¯èƒ½åªæ˜¯æƒ³æ‰“åŒ…ä¸€ä¸‹æ’ä»¶ï¼Œè€Œä¸æ˜¯å‘å¸ƒåˆ°å•†åº—é‡Œã€‚ç”¨ä¸‹åˆ—å‘½ä»¤å°†æ’ä»¶æ‰“åŒ…åˆ° `.vsix` æ–‡ä»¶ä¸­ï¼š

```sh
$ vsce package
```

è¿™ä¸ªå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª .vsix æ–‡ä»¶ï¼Œç›´æ¥ä» .vsix å®‰è£…æ’ä»¶æ˜¯å…è®¸çš„ï¼ŒæŸ¥çœ‹[ä» VSIX å®‰è£…æ’ä»¶](https://github.com/Microsoft/vscode-docs/blob/master/docs/editor/extension-gallery.md#install-from-a-vsix)äº†è§£æ›´å¤šå†…å®¹ã€‚

## VS Code ç‰ˆæœ¬å…¼å®¹æ€§

å½“ä½ åˆ¶ä½œæ’ä»¶çš„æ—¶å€™ï¼Œä½ éœ€è¦æè¿°æ’ä»¶å¯¹ VS Code çš„ç‰ˆæœ¬å…¼å®¹æ€§â€”â€”ä¿®æ”¹ _package.json_ ä¸­çš„ engines.vscodeï¼š

```json
{
  "engines": {
    "vscode": "^1.8.0"
  }
}
```

1.8.0 è¡¨ç¤ºä½ çš„æ’ä»¶åªèƒ½å…¼å®¹ 1.8.0 ç‰ˆæœ¬çš„ VS Codeï¼Œ^1.8.0 åˆ™è¡¨ç¤ºä½ çš„æ’ä»¶å‘ä¸Šå…¼å®¹ï¼ŒåŒ…æ‹¬ 1.8.1, 1.9.0 ç­‰ç­‰ã€‚

ä½¿ç”¨ `engines.vscode` å¯ä»¥ç¡®ä¿æ’ä»¶å®‰è£…ç¯å¢ƒåŒ…å«äº†æ’ä»¶ä¾èµ–çš„ APIã€‚è¿™ä¸ªæœºåˆ¶åœ¨ç¨³å®šç‰ˆå’Œ Insider ç‰ˆæœ¬éƒ½é€‚ç”¨ã€‚

ç°åœ¨æˆ‘ä»¬å‡è®¾æœ€æ–°çš„ç¨³å®šç‰ˆ API æ˜¯ 1.8.0ï¼Œè€Œ 1.9.0 å¼•å…¥äº†æ–°çš„ APIï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨ 1.9.0-insider æ ‡è¯†æ’ä»¶åœ¨ Insider ç‰ˆä¸­ä¹Ÿå¯æ­£å¸¸ä½¿ç”¨ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨è¿™äº›åˆšåˆšå¼•å…¥çš„ APIï¼Œåˆ™å°†ä¾èµ–ç‰ˆæœ¬è®¾ç½®ä¸º ^1.9.0ï¼Œä½ çš„æ’ä»¶åˆ™åªèƒ½å®‰è£…åœ¨ >=1.9.0 çš„ VS Code ä¸Šï¼Œä¹Ÿå°±æ„å‘³ç€æ‰€æœ‰å½“å‰çš„ Insider ç‰ˆæœ¬éƒ½å¯ä»¥ç”¨å¾—ä¸Šï¼Œè€Œç¨³å®šç‰ˆåªæœ‰åœ¨æ›´æ–°åˆ° 1.9.0 æ‰èƒ½ä½¿ç”¨ä½ çš„æ’ä»¶ã€‚

å…³æ³¨å…¬ä¼—å·`æ´›ç«¹æ—©èŒ¶é¦†`ï¼Œä¸€ä¸ªæŒç»­åˆ†äº«ç¼–ç¨‹çŸ¥è¯†çš„åœ°æ–¹ã€‚

- `ç‚¹èµ`ç­‰äºå­¦ä¼šï¼Œ`åœ¨çœ‹`ç­‰äºç²¾é€š
- æœ€åç¥å¤§å®¶ 2021 å­¦ä¹ è¿›æ­¥ï¼Œå‡èŒåŠ è–ª

> æœ¬æ–‡é¦–å‘äºã€Œ[æ´›ç«¹çš„å®˜æ–¹ç½‘ç«™](https://youngjuning.js.org/)ã€ï¼ŒåŒæ­¥äºå…¬ä¼—å·ã€Œ[æ´›ç«¹æ—©èŒ¶é¦†](https://cdn.jsdelivr.net/gh/youngjuning/images/20210418112129.jpeg)ã€å’Œã€Œ[æ˜é‡‘ä¸“æ ](https://juejin.cn/user/325111174662855)ã€ã€‚
